:root{
  --bg:#041920;
  --card:#06292f;
  --card-2:#0d383e;
  --header:#0a2e33;
  --accent:#00e38c;
  --text:#f1f1f1;
  --error:#ff6b6b;
  --muted:#9bb7b3;

  --chip:#08333a;
  --chip-border:#0c5056;
  --dropdown:#08333a;
  --dropdown-border:#0d5a60;
  --shadow:0 8px 24px rgba(0,0,0,.25);
}
/* Light theme overrides */
:root[data-theme="light"]{
  --bg:#f6fbfb;
  --card:#ffffff;
  --card-2:#f2f7f7;
  --header:#e8f0ef;
  --accent:#0ea47a;   /* thead titles + fundo das labels */
  --text:#102a2f;
  --error:#b91c1c;
  --muted:#5f7a76;
  --chip:#eef6f5;
  --chip-border:#cfe6e3;
  --dropdown:#ffffff;
  --dropdown-border:#d9e7e5;
}

*{box-sizing:border-box}
body{font-family:'Segoe UI',system-ui,-apple-system,Arial,sans-serif;background:var(--bg); color:var(--text); margin:0; padding:20px;}
header{display:flex; align-items:center; gap:16px; margin-bottom:8px;}
header img{height:40px; background:#fff; border-radius:6px; padding:2px;}
h1{color:var(--accent); font-size:28px; margin:0;}
h2{color:var(--accent); font-size:20px; margin:24px 0 8px;}
.page-intro{margin:10px 0 16px; line-height:1.4}

/* Toolbar */
.toolbar{
  display:flex; gap:12px; align-items:center; flex-wrap:wrap;
  background:var(--card); border:1px solid var(--dropdown-border);
  border-radius:10px; padding:10px 12px; margin-bottom:10px;
}
.toolbar select, .toolbar button{
  background:var(--accent); color:var(--bg); border:none; border-radius:7px;
  font-weight:700; cursor:pointer; padding:8px 12px;
}
.toolbar .spacer{flex:1}
#loading{display:none; color:var(--accent); font-weight:700}

/* Light: botões-ícone sem background */
:root[data-theme="light"] .toolbar .icon-btn{
  background:transparent;
  color:var(--text);
  padding:6px 8px;
}

/* Cards */
.filters-card{
  background:var(--card); border:1px solid var(--dropdown-border);
  border-radius:10px; padding:10px 12px; margin-bottom:8px;
}
.filters-row{display:flex; gap:12px; flex-wrap:wrap}
.filter{position:relative; min-width:240px; flex:1 1 280px}
.filter details{
  background:var(--dropdown); border:1px solid var(--dropdown-border);
  border-radius:8px; box-shadow:var(--shadow);
}
.filter summary{
  list-style:none; padding:10px 12px; cursor:pointer; user-select:none;
  display:flex; justify-content:space-between; align-items:center;
}
.filter summary::-webkit-details-marker{display:none}
.filter .title{font-weight:700; color:var(--accent)}
.filter .count-badge{
  font-size:12px; padding:2px 8px; border-radius:999px; background:var(--chip);
  border:1px solid var(--chip-border); color:var(--text);
}
.filter .menu{
  border-top:1px solid var(--dropdown-border); padding:8px 10px; max-height:280px; overflow:auto;
}
.filter .menu .row{display:flex; align-items:center; gap:8px; padding:6px 2px}
.filter .menu input[type="checkbox"]{transform:scale(1.1)}
.filter .menu .clear{display:inline-block; margin:4px 0 6px; font-size:12px; cursor:pointer;color:var(--accent); text-decoration:underline;}

/* Chips */
.chips{display:flex; flex-wrap:wrap; gap:6px; padding:6px 0 2px}
.chip{
  display:inline-flex; align-items:center; gap:8px; padding:4px 10px; border-radius:999px;
  background:var(--chip); border:1px solid var(--chip-border); font-size:12px;
}
.chip .x{cursor:pointer; opacity:.85}

/* Table */
table{width:100%; border-collapse:separate; border-spacing:0; background:var(--card); border-radius:8px; overflow:hidden}
thead th{
  background:var(--header);
  color:var(--accent);
  text-align:center;
  padding:12px; user-select:none;
  white-space:nowrap;
}
tbody td{padding:12px; vertical-align:top}
tbody tr:nth-child(even) td{background:var(--card-2)}
th.sortable{cursor:pointer}
.sort-label{display:inline-flex; align-items:center; gap:6px; justify-content:center}
.sort-arrow{font-size:12px; color:var(--accent); opacity:.9}

/* SLA status cores */
.over-sla{color:var(--error); font-weight:700}
.within-sla{color:var(--accent)}
.nosla{color:#cbd5df}
.paused{color:#f0d98c; font-weight:normal}

/* Light: contraste */
:root[data-theme="light"] .within-sla{color:#0a7f5a;}
:root[data-theme="light"] .over-sla{color:#b91c1c}
:root[data-theme="light"] .nosla{color:#374151}
:root[data-theme="light"] .paused{color:#b58900}

/* Centraliza a coluna de SLA Status (5ª) */
#finance-table td:nth-child(5){ text-align:center; }

/* Badges */
.badge{
  display:inline-block;
  background-color:#055b4e;
  color:#00e38c;
  border-radius:4px;
  padding:2px 6px;
  margin:2px 4px 2px 0;
  font-size:12px;
  font-weight: normal;
  word-break:normal; overflow-wrap:normal; white-space:normal;
}
.badge-bug{background: rgba(239,68,68,.12); border: 1px solid rgba(239,68,68,.35); color: #fca5a5;}
.badge-ugdto{background: rgba(59,130,246,.12); border: 1px solid rgba(59,130,246,.35); color: #93c5fd;}
/* Light: fundo das labels = --accent, texto branco (exceto Bug/UGDTO) */
:root[data-theme="light"] .badge{ background:var(--accent); color:#ffffff; }
:root[data-theme="light"] .badge-bug{ background: rgba(239,68,68,.12); color:#ef4444; }
:root[data-theme="light"] .badge-ugdto{ background: rgba(59,130,246,.12); color:#3b82f6; }

/* Comentários */
.comment-box{
  width:100%; font-size:12px; background:#092e34; color:#fff;
  border:1px solid #066f5f; border-radius:4px; min-height:20px; resize:vertical;
}
:root[data-theme="light"] .comment-box{
  background:#eef4f3; color:#102a2f; border:1px solid #0ea47a;
}

.summary{font-size:14px; margin:8px 0 12px; opacity:.9}
.closed-issue td{opacity:.9}
.closed-badge{
  display:inline-block; padding:2px 6px; border-radius:4px; background:#244447;
  color:#ffffff; font-size:11px; margin-top:6px
}
.grid{display:grid; grid-template-columns:1fr; gap:28px}

/* Empty */
.empty-state td.empty-cell{padding:18px; text-align:center; color:var(--muted); background:var(--card-2); font-style:italic;}

footer{margin-top:16px; font-size:12px; color:var(--muted)}

/* Larguras */
#finance-table{table-layout:fixed; width:100%;}
#finance-table th, #finance-table td{ word-break:normal; overflow-wrap:normal; }
#finance-table th:nth-child(1),  #finance-table td:nth-child(1)  { width:7%;  }
#finance-table th:nth-child(2),  #finance-table td:nth-child(2)  { width:20%; }
#finance-table th:nth-child(3),  #finance-table td:nth-child(3)  { width:9%;  }
#finance-table th:nth-child(4),  #finance-table td:nth-child(4)  { width:7%;  text-align:center; }
#finance-table th:nth-child(5),  #finance-table td:nth-child(5)  { width:8%;  }
#finance-table th:nth-child(6),  #finance-table td:nth-child(6)  { width:8%;  }
#finance-table th:nth-child(7),  #finance-table td:nth-child(7)  { width:7%;  }
#finance-table th:nth-child(8),  #finance-table td:nth-child(8)  { width:8%;  }
#finance-table th:nth-child(9),  #finance-table td:nth-child(9)  { width:8%;  }
#finance-table th:nth-child(10), #finance-table td:nth-child(10) { width:7%;  }
#finance-table th:nth-child(11), #finance-table td:nth-child(11) { width:12%; }

#finance-table td:nth-child(1) a{display:inline-block; white-space:nowrap; min-width:56px;}
#finance-table th:nth-child(4) { white-space: normal; word-break: keep-all; overflow-wrap: normal; }

/* “Relógio” sem sublinhado */
.wd-link{ cursor:pointer; text-decoration:none; }

/* === Center everything except Title column === */
#finance-table th { text-align:center; }
#finance-table td { text-align:center; }
#finance-table td:nth-child(2) { text-align:left; } /* Title */

/* Center badge text */
.badge { display:inline-flex; align-items:center; justify-content:center; text-align:center; }

/* Closed range controls */
.range-row{display:flex; align-items:center; gap:8px; margin-left:8px; flex-wrap:wrap}
.range-row input[type="date"]{
  background:var(--dropdown); color:var(--text);
  border:1px solid var(--dropdown-border); border-radius:6px; padding:6px 8px;
}
:root[data-theme="light"] .range-row input[type="date"]{ background:#fff; color:var(--text); }
