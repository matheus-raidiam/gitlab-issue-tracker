<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dashboard — Open Finance Brasil GitLab</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="dashboard.css">
</head>
<body>
  <header class="grid" style="padding-top:8px;">
    <div style="display:flex;align-items:center;gap:10px;">
      <img src="Raidiam_icon.png" alt="Raidiam Logo" style="width:28px;height:28px;"/>
      <h1 data-i18n="dashTitle">Open Finance Brasil — Dashboard</h1>
    </div>
  </header>

  <div class="toolbar grid" style="margin-top:8px; gap:8px; flex-wrap:wrap">
    <div class="period-picker">
      <span data-i18n="period">Period</span>
      <select id="periodSelect" aria-label="Period">
        <option value="7">7</option>
        <option value="14">14</option>
        <option value="30" selected>30</option>
        <option value="60">60</option>
        <option value="90">90</option>
      </select>
      <span data-i18n="days">days</span>
    </div>
    <div class="spacer"></div>
    <button id="themeToggleDash" class="icon-btn" title="Theme">🌓</button>
    <button id="langToggleDash" class="icon-btn" title="Language">🌐</button>
  </div>

  <div class="grid" style="margin-top:10px;">
    <section class="kpi-row">
      <div class="kpi-card">
        <div class="kpi-title" id="kpiOpenedTitle">Opened (last 30 days)</div>
        <div class="kpi-value" id="kpiOpened">—</div>
      </div>
      <div class="kpi-card">
        <div class="kpi-title" id="kpiClosedTitle">Closed (last 30 days)</div>
        <div class="kpi-value" id="kpiClosed">—</div>
      </div>
      <div class="kpi-card">
        <div class="kpi-title" id="kpiAvgTitle">Avg closure (business days, last 30 days)</div>
        <div class="kpi-value" id="kpiAvgClose">—</div>
      </div>
      <div class="kpi-card">
        <div class="kpi-title" data-i18n="openNow">Open now</div>
        <div class="kpi-value" id="kpiOpen">—</div>
      </div>
    </section>

    <section class="two-col" style="margin-top:12px;">
      <div class="chart-card">
        <div class="list-title" data-i18n="createdPerDay">Created per day <span class="muted" id="periodCreated">(last 30 days)</span></div>
        <div id="chartOpened" class="chart"></div>
      </div>
      <div class="chart-card">
        <div class="list-title" data-i18n="closedPerDay">Closed per day <span class="muted" id="periodClosed">(last 30 days)</span></div>
        <div id="chartClosed" class="chart"></div>
      </div>
    </section>

    <section class="two-col" style="margin-top:12px;">
      <div class="chart-card">
        <div class="list-title" data-i18n="byWeekday">By weekday <span class="muted" id="periodWeekday">(last 30 days)</span></div>
        <div id="chartWeekday" class="chart"></div>
      </div>
      <div class="chart-card">
        <div class="list-title" data-i18n="topAuthors">Top authors <span class="muted" id="periodAuthors">(last 30 days)</span></div>
        <ol id="listAuthors"></ol>
      </div>
    </section>

    <section class="two-col" style="margin-top:12px;">
      <div class="list-card">
        <div class="list-title" data-i18n="byWg">By WG <span class="muted" id="periodWg">(last 30 days)</span></div>
        <ol id="listWg"></ol>
      </div>
      <div class="list-card">
        <div class="list-title" data-i18n="byProduct">By product <span class="muted" id="periodProd">(last 30 days)</span></div>
        <ol id="listProd"></ol>
      </div>
    </section>

    <section class="two-col" style="margin-top:12px;">
      <div class="list-card">
        <div class="list-title" data-i18n="topCommented">Top 5 most commented <span class="muted" id="periodComments">(last 30 days)</span></div>
        <ol id="listComments"></ol>
      </div>
      <div class="list-card">
        <div class="list-title" data-i18n="topUpvoted">Top 5 most 👍 <span class="muted" id="periodUpvotes">(last 30 days)</span></div>
        <ol id="listUpvotes"></ol>
      </div>
    </section>

    <div class="muted" id="lastUpdated" style="margin:16px 4px 24px;">—</div>
  </div>

  <script src="dashboard.js"></script>
</body>
</html>
