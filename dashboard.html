<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dashboard â€” Open Finance Brasil GitLab</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="dashboard.css">
</head>
<body>
  <header>
    <img src="Raidiam_icon.png" alt="Raidiam Logo"/>
    <h1>Open Finance Brasil â€” Dashboard</h1>
  </header>

  <div class="toolbar" style="margin-top:6px; gap:8px; flex-wrap:wrap">
    <a class="btn-link" href="index.html">â† Back to Issues</a>
    <div class="period-picker">
      <label for="periodSelect">Period:</label>
      <select id="periodSelect">
        <option value="7">Last 7 days</option>
        <option value="14">Last 14 days</option>
        <option value="30" selected>Last 30 days</option>
        <option value="60">Last 60 days</option>
        <option value="90">Last 90 days</option>
      </select>
    </div>
    <button id="themeToggleDash" class="icon-btn" title="Theme">ğŸŒ“</button>
    <button id="langToggleDash" class="icon-btn" title="Language">ğŸŒ</button>
    <div class="spacer"></div>
    <span id="lastUpdated" class="muted"></span>
  </div>

  <p class="page-intro">
    KPIs and trends from GitLab issues. Periods are indicated in each widget and follow the selector above.
  </p>

  <div class="grid">
    <section>
      <h2>KPIs</h2>
      <div class="kpi-row">
        <div class="kpi-card"><div class="kpi-title">Open issues</div><div id="kpiOpen"   class="kpi-value">â€”</div></div>
        <div class="kpi-card"><div class="kpi-title" id="kpiClosedTitle">Closed (last 30 days)</div><div id="kpiClosed" class="kpi-value">â€”</div></div>
        <div class="kpi-card"><div class="kpi-title" id="kpiAvgTitle">Avg closure (business days, last 30 days)</div><div id="kpiAvgClose" class="kpi-value">â€”</div></div>
        <div class="kpi-card"><div class="kpi-title" id="kpiOpenedTitle">Opened (last 30 days)</div><div id="kpiOpened" class="kpi-value">â€”</div></div>
      </div>
    </section>

    <section>
      <h2>Trends</h2>
      <div class="chart-card">
        <div class="chart-title">Created by day <span class="muted" id="periodCreated">(last 30 days)</span></div>
        <div id="chartOpened" class="linechart"></div>
      </div>
      <div class="chart-card">
        <div class="chart-title">Closed by day <span class="muted" id="periodClosed">(last 30 days)</span></div>
        <div id="chartClosed" class="linechart"></div>
      </div>
    </section>

    <section>
      <h2>Breakdown</h2>
      <div class="two-col">
        <div class="list-card">
          <div class="list-title">Top Working Groups <span class="muted" id="periodWg">(last 30 days)</span></div>
          <ol id="listWg"></ol>
        </div>
        <div class="list-card">
          <div class="list-title">Top Products <span class="muted" id="periodProd">(last 30 days)</span></div>
          <ol id="listProd"></ol>
        </div>
      </div>
      <div class="two-col">
        <div class="list-card">
          <div class="list-title">Top Authors <span class="muted" id="periodAuthors">(last 30 days)</span></div>
          <ol id="listAuthors"></ol>
        </div>
        <div class="list-card">
          <div class="list-title">Issues per weekday <span class="muted" id="periodWeekday">(last 30 days)</span></div>
          <div id="chartWeekday" class="linechart small"></div>
        </div>
      </div>
      <div class="two-col">
        <div class="list-card">
          <div class="list-title">Top 5 most commented <span class="muted" id="periodComments">(last 30 days)</span></div>
          <ol id="listComments"></ol>
        </div>
        <div class="list-card">
          <div class="list-title">Top 5 most ğŸ‘ <span class="muted" id="periodUpvotes">(last 30 days)</span></div>
          <ol id="listUpvotes"></ol>
        </div>
      </div>
    </section>
  </div>

  <script src="dashboard.js"></script>
</body>
</html>
